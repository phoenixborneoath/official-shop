<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>Products — Phoenixborne Oath</title>

  <meta name="description" content="Koleksi resmi Phoenixborne Oath. Metal Brand Indonesia dengan rilis terbatas dan filosofi kebangkitan." />

  <meta name="theme-color" content="#050507" />

  <link rel="icon" href="/icons/googlelogo.jpg" sizes="48x48">
<link rel="icon" href="/icons/googlelogo.jpg" type="image/png">
<link rel="apple-touch-icon" href="/icons/googlelogo.jpg">

  <style>
    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #000;
      color: #e5e7eb;
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    .container {
      max-width: 1120px;
      margin: 0 auto;
      padding: 2rem 1.25rem 4rem;
    }

    h1 {
      font-size: 2rem;
      letter-spacing: 0.14em;
      text-transform: uppercase;
      margin-bottom: 0.5rem;
      color: #f9fafb;
    }

    .sub {
      color: #a1a1aa;
      margin-bottom: 2rem;
      font-size: 0.9rem;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
      gap: 1.4rem;
    }

    .card {
      border: 1px solid rgba(255,255,255,0.1);
      border-radius: 16px;
      background: #020617;
      padding: 1rem;
      box-shadow: 0 16px 35px rgba(0,0,0,0.85);
    }

    .card img {
      width: 100%;
      border-radius: 12px;
      margin-bottom: 0.8rem;
    }

    .name {
      font-size: 0.9rem;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      margin-bottom: 0.3rem;
    }

    .price {
      font-size: 0.95rem;
      color: #f9fafb;
      margin-bottom: 0.6rem;
    }

    .note {
      font-size: 0.75rem;
      color: #9ca3af;
      text-transform: uppercase;
      letter-spacing: 0.14em;
    }

    .back {
      display: inline-block;
      margin-top: 2.5rem;
      font-size: 0.85rem;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      border-bottom: 1px solid rgba(255,255,255,0.2);
    }
  </style>
</head>

<body>
  <main class="container">

    <h1>Products</h1>
    <p class="sub">Official release dari Phoenixborne Oath</p>

   <section class="grid" id="productsGrid">
     
    </section>

    <a href="/" class="back">← Kembali ke Homepage</a>

  </main>
  <script src="products-data.js"></script>
  <script>
  const products = PRODUCTS;
  const grid = document.getElementById("productsGrid");

  const formatRupiah = (value) =>
    new Intl.NumberFormat("id-ID", {
      style: "currency",
      currency: "IDR",
      maximumFractionDigits: 0
    }).format(value);
    
     function sortProductsForDisplay(list) {
    return list.slice().sort((a, b) => {
      const getPriority = (p) => {
        const status = p.stockStatus.toLowerCase();
        if (status.includes("ready")) return 0;
        if (status.includes("low")) return 1;
        if (status.includes("sold")) return 2;
        return 3;
      };

      const priorityA = getPriority(a);
      const priorityB = getPriority(b);

      if (priorityA !== priorityB) {
        return priorityA - priorityB;
      }

      return b.id - a.id;
    });
  }

  function renderProductsPage() {
  grid.innerHTML = "";

  sortProductsForDisplay(products).forEach(p => {
      const card = document.createElement("article");
      card.className = "card";
      
      card.innerHTML = `
        <img 
        src="${p.cover}" 
        alt="${p.name}" 
        class="product-img"
        data-slug="${p.slug}"
       style="cursor:pointer"
      >
        <div class="name">${p.name}</div>
        <div class="price">
          ${p.price ? formatRupiah(p.price) : "—"}
        </div>
        <div class="note">
          ${p.category === "soldout" ? "Sold Out / Upcoming" : "Limited Drop"}
        </div>
      `;

      grid.appendChild(card);
    });
}

  renderProductsPage();

   grid.addEventListener("click", e => {
  const img = e.target.closest(".product-img");
  if (!img) return;

  const slug = img.dataset.slug;
  if (!slug) return;

  window.location.href = "index.html?product=" + slug;
});
</script>
</body>
</html>

